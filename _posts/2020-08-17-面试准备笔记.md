---
layout: post
title: "面试准备笔记"
date: 2020-08-17 
description: "面试"
tag: 前端技术
---

# Vue相关
1. diff算法
首先比较newVnode和oldVnode是不是sameVnode
不是，直接用新的el替换
是，判断子节点，分4种情况
假如new有子节点，old没有，new新增el
假如new没有子节点，old有，new删除el
假如都是文本子节点，使用newVode中的文本渲染
假如都有子节点，则继续判断
分别对oldS（老节点的起始子元素）、oldE（老节点的截止子元素）、
S（老节点的起始子元素）、E（新节点的截止子元素）两两做sameVnode比较
2. 

#性能相关
1. 防抖：在事件被触发n秒后执行回调，如果在n秒内再触发一次，则重新计时
```
function debounce (func, time = 500) {
  return function (...args) {
    let that = this
    clearTimeout(func.id)
    func.id = setTimeout(function () {
      func.apply(that, args)
    }, time)
  }
}
```  
2 . 节流：规定在n秒内只能执行一次，如何在n秒内频繁触发，只有最后一次有效
```
function Throttle(func, time = 1000) {
   let last
   return function (...args) {
     let that = this
     let now = +new Date()
     if (last && now < last + time) {
       clearTimeout(func.id)
       func.id = setTimeout(function () {
         func.apply(that, args)
       }, time)
     } else {
       last = now
       func.apply(that, args)
     }
   }
 }
```


